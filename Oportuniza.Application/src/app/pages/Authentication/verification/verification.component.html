<div class="verification-container">
  <div class="card">
    <h2 class="title">Verificação de Conta</h2>
    <p class="subtitle">Insira o código de 8 dígitos enviado para <strong>{{ email }}</strong>.</p>

    <div class="code-input-container">
      <input
        *ngFor="let char of codeInputs; let i = index"
        #codeField
        class="code-input"
        type="text"
        maxlength="1"
        (input)="onInput($event, i)"
        (keydown)="onKeydown($event, i)"
        [(ngModel)]="codeInputs[i]"
        [disabled]="isLoading"
      >
    </div>

    <button
      class="btn-verify"
      (click)="validateCodeAndRegisterUser()"
      [disabled]="isLoading || codeInputs.join('').length !== codeLength"
    >
      {{ isLoading ? 'Validando...' : 'Verificar Código' }}
    </button>

    <div class="status-message-container">
      <p *ngIf="message" class="status-message">{{ message }}</p>
      <a class="resend-link" (click)="sendVerificationCode()">Reenviar Código</a>
    </div>
  </div>
</div>
