<div class="conteudo">

  <div class="header-section">
    <h2>Adicionar Novo Funcionário</h2>
    <p class="texto-explicativo">
      Para vincular um usuário à sua empresa, pesquise pelo e-mail cadastrado na plataforma. Após encontrar o perfil,
      clique em "Adicionar" para que ele faça parte da sua equipe.
    </p>
  </div>

  <div class="form-section">
    <div class="form-field">
      <label for="link-email">Pesquisar Email do Usuário</label>
      <div class="input-with-button">
        <input type="email" id="link-email" placeholder="email@exemplo.com" [(ngModel)]="linkEmail" name="linkEmail"
        required class="text-input" (keyup.enter)="searchUserByEmail()">
        <button type="button" class="search-button" (click)="searchUserByEmail()"
        [disabled]="!isValidEmail(linkEmail) || isSearching">
        <mat-icon>{{ isSearching ? 'hourglass_empty' : 'search' }}</mat-icon>
      </button>
    </div>
  </div>

  <div *ngIf="searchedUser" class="search-result-wrapper">
    <p>
      <strong>Email:</strong> {{ searchedUser.email }}<br>
      <strong>Nome:</strong> {{ searchedUser.name || 'Não informado' }}<br>
    </p>
    <button type="button" class="save-button" (click)="confirmLinkUser()">
      <mat-icon>link</mat-icon> Adicionar à Empresa
    </button>
  </div>

  <div *ngIf="searchError" class="search-error-wrapper">
    <p>⚠️ {{ searchError }}</p>
  </div>
</div>

</div>
